"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[902],{6700:function(e,n,t){t.d(n,{Q:function(){return r}});var r={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},6793:function(e,n,t){t.d(n,{Z:function(){return s}});var r,a=t(2007),c=t.n(a),o=t(168),u=t(6444).ZP.p(r||(r=(0,o.Z)(["\n  margin-top: 38px;\n  margin-left: auto;\n  margin-right: auto;\n  color: red;\n  font-size: 24px;\n  font-weight: 700;\n"]))),i=t(184);u.propTypes={msg:c().string};var s=function(e){var n=e.msg;return(0,i.jsx)(u,{children:n||"Something unexpected happed..."})}},2676:function(e,n,t){var r=t(7689),a=t(1087),c=t(184);n.Z=function(e){var n=e.movies,t=e.home,o=void 0!==t&&t,u=(0,r.TH)();return(0,c.jsx)("ul",{children:n.map((function(e){var n=e.title,t=e.id;return(0,c.jsx)(a.rU,{to:o?"movies/".concat(t):"".concat(t),state:{from:u},children:(0,c.jsx)("div",{children:n})},t)}))})}},2902:function(e,n,t){t.r(n),t.d(n,{default:function(){return m}});var r,a=t(9439),c=t(2791),o=t(1087),u=t(171),i=t(2676),s=t(6793),p=t(587),l=t(6700),f=t(763),v=t(168),h=t(6444).ZP.input(r||(r=(0,v.Z)(["\n  margin: 8px 16px;\n  width: 320px;\n  border-style: solid;\n  border-color: orangered;\n  border-radius: 4px;\n"]))),g=t(184),d=function(e){var n=e.value,t=void 0===n?"":n,r=e.debouncedFunc,o=(0,c.useMemo)((function(){return(0,f.debounce)(r,500)}),[r]),u=(0,c.useState)([t]),i=(0,a.Z)(u,2),s=i[0],p=i[1];return(0,g.jsx)(h,{type:"text",value:s,onChange:function(e){var n=e.target.value;p(n),o(n)}})},m=function(){var e,n=(0,o.lr)(),t=(0,a.Z)(n,2),r=t[0],f=t[1],v=null!==(e=r.get("query"))&&void 0!==e?e:"",h=(0,c.useState)(l.Q.IDLE),m=(0,a.Z)(h,2),w=m[0],b=m[1],x=(0,c.useState)([]),Z=(0,a.Z)(x,2),E=Z[0],y=Z[1],k=(0,c.useState)(null),S=(0,a.Z)(k,2),C=S[0],D=S[1],_=(0,c.useCallback)((function(e){""!==e&&(b(l.Q.PENDING),console.log("fetching movies...",e),u.Z.fetchSearchMovies(e).then((function(e){var n=e.results;y(n),b(l.Q.RESOLVED)})).catch((function(e){D(e),b(l.Q.REJECTED),y([])})))}),[]);return(0,c.useEffect)((function(){return _(v),function(){u.Z.abortFetch()}}),[_,v]),(0,g.jsxs)("div",{children:[(0,g.jsx)(d,{value:v,debouncedFunc:function(e){if(u.Z.abortFetch(),b(l.Q.IDLE),""===e)return f({});f({query:e}),_(e)}}),w===l.Q.REJECTED&&(0,g.jsx)(s.Z,{msg:C.message}),w===l.Q.RESOLVED&&(E.length?(0,g.jsx)(i.Z,{movies:E}):(0,g.jsx)("p",{children:"Nothing found for your search..."})),w===l.Q.PENDING&&(0,g.jsx)(p.Z,{})]})}},171:function(e,n,t){var r,a=t(5861),c=t(7757),o=t.n(c),u=t(1243),i="https://api.themoviedb.org/3/",s="b3cb1db782e55dafd1da39b95bd6f5f2";function p(){return(p=(0,a.Z)(o().mark((function e(){var n,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new AbortController,n="".concat(i,"trending/movie/week?api_key=").concat(s,"&page=1&language=en-US"),e.next=5,u.Z.get(n,{signal:r.signal});case 5:return t=e.sent,e.abrupt("return",t.data);case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function l(){return l=(0,a.Z)(o().mark((function e(n){var t,a,c,p=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>1&&void 0!==p[1]?p[1]:1,e.prev=1,r=new AbortController,a="".concat(i,"/search/movie?api_key=").concat(s,"&language=en-US&page=").concat(t,"&query=").concat(n),e.next=6,u.Z.get(a,{signal:r.signal});case 6:return c=e.sent,e.abrupt("return",c.data);case 10:throw e.prev=10,e.t0=e.catch(1),new Error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),l.apply(this,arguments)}function f(){return(f=(0,a.Z)(o().mark((function e(n){var t,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new AbortController,t="".concat(i,"movie/").concat(n,"?api_key=").concat(s,"&language=en-US"),e.next=5,u.Z.get(t,{signal:r.signal});case 5:return a=e.sent,e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function v(){return(v=(0,a.Z)(o().mark((function e(n){var t,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new AbortController,t="".concat(i,"movie/").concat(n,"/credits?api_key=").concat(s,"&language=en-US"),e.next=5,u.Z.get(t,{signal:r.signal});case 5:return a=e.sent,e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function h(){return(h=(0,a.Z)(o().mark((function e(n){var t,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new AbortController,t="".concat(i,"movie/").concat(n,"/reviews?api_key=").concat(s,"&language=en-US"),e.next=5,u.Z.get(t,{signal:r.signal});case 5:return a=e.sent,e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var g={fetchTrendingMovies:function(){return p.apply(this,arguments)},fetchMovieCast:function(e){return v.apply(this,arguments)},fetchMovieDetails:function(e){return f.apply(this,arguments)},fetchMovieReviews:function(e){return h.apply(this,arguments)},fetchSearchMovies:function(e){return l.apply(this,arguments)},abortFetch:function(){r&&r.abort()}};n.Z=g}}]);
//# sourceMappingURL=902.85fcb7c4.chunk.js.map