"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[415],{6700:function(e,n,t){t.d(n,{Q:function(){return r}});var r={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},6793:function(e,n,t){t.d(n,{Z:function(){return u}});var r,a=t(2007),c=t.n(a),o=t(168),i=t(6444).ZP.p(r||(r=(0,o.Z)(["\n  margin-top: 38px;\n  margin-left: auto;\n  margin-right: auto;\n  color: red;\n  font-size: 24px;\n  font-weight: 700;\n"]))),s=t(184);i.propTypes={msg:c().string};var u=function(e){var n=e.msg;return(0,s.jsx)(i,{children:n||"Something unexpected happed..."})}},2676:function(e,n,t){var r=t(7689),a=t(1087),c=t(184);n.Z=function(e){var n=e.movies,t=e.home,o=void 0!==t&&t,i=(0,r.TH)();return(0,c.jsx)("ul",{children:n.map((function(e){var n=e.title,t=e.id;return(0,c.jsx)(a.rU,{to:o?"movies/".concat(t):"".concat(t),state:{from:i},children:(0,c.jsx)("div",{children:n})},t)}))})}},5415:function(e,n,t){t.r(n);var r=t(9439),a=t(2791),c=t(171),o=t(2676),i=t(6793),s=t(587),u=t(6700),p=t(184);n.default=function(){var e=(0,a.useState)(u.Q.IDLE),n=(0,r.Z)(e,2),t=n[0],l=n[1],f=(0,a.useState)([]),h=(0,r.Z)(f,2),v=h[0],g=h[1],d=(0,a.useState)(null),m=(0,r.Z)(d,2),w=m[0],E=m[1],Z=(0,a.useCallback)((function(){console.log("fetch trending"),l(u.Q.PENDING),c.Z.fetchTrendingMovies().then((function(e){var n=e.results;g(n),l(u.Q.RESOLVED)})).catch((function(e){E(e),l(u.Q.REJECTED),g([])}))}),[]);return(0,a.useEffect)((function(){return Z(),function(){c.Z.abortFetch()}}),[Z]),(0,p.jsxs)("div",{children:[(0,p.jsx)("h1",{children:"Trending today"}),t===u.Q.REJECTED&&(0,p.jsx)(i.Z,{msg:w.message}),t===u.Q.RESOLVED&&(0,p.jsx)(o.Z,{home:!0,movies:v}),t===u.Q.PENDING&&(0,p.jsx)(s.Z,{})]})}},171:function(e,n,t){var r,a=t(5861),c=t(7757),o=t.n(c),i=t(1243),s="https://api.themoviedb.org/3/",u="b3cb1db782e55dafd1da39b95bd6f5f2";function p(){return(p=(0,a.Z)(o().mark((function e(){var n,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new AbortController,n="".concat(s,"trending/movie/week?api_key=").concat(u,"&page=1&language=en-US"),e.next=5,i.Z.get(n,{signal:r.signal});case 5:return t=e.sent,e.abrupt("return",t.data);case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function l(){return l=(0,a.Z)(o().mark((function e(n){var t,a,c,p=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>1&&void 0!==p[1]?p[1]:1,e.prev=1,r=new AbortController,a="".concat(s,"/search/movie?api_key=").concat(u,"&language=en-US&page=").concat(t,"&query=").concat(n),e.next=6,i.Z.get(a,{signal:r.signal});case 6:return c=e.sent,e.abrupt("return",c.data);case 10:throw e.prev=10,e.t0=e.catch(1),new Error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),l.apply(this,arguments)}function f(){return(f=(0,a.Z)(o().mark((function e(n){var t,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new AbortController,t="".concat(s,"movie/").concat(n,"?api_key=").concat(u,"&language=en-US"),e.next=5,i.Z.get(t,{signal:r.signal});case 5:return a=e.sent,e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function h(){return(h=(0,a.Z)(o().mark((function e(n){var t,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new AbortController,t="".concat(s,"movie/").concat(n,"/credits?api_key=").concat(u,"&language=en-US"),e.next=5,i.Z.get(t,{signal:r.signal});case 5:return a=e.sent,e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function v(){return(v=(0,a.Z)(o().mark((function e(n){var t,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new AbortController,t="".concat(s,"movie/").concat(n,"/reviews?api_key=").concat(u,"&language=en-US"),e.next=5,i.Z.get(t,{signal:r.signal});case 5:return a=e.sent,e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var g={fetchTrendingMovies:function(){return p.apply(this,arguments)},fetchMovieCast:function(e){return h.apply(this,arguments)},fetchMovieDetails:function(e){return f.apply(this,arguments)},fetchMovieReviews:function(e){return v.apply(this,arguments)},fetchSearchMovies:function(e){return l.apply(this,arguments)},abortFetch:function(){r&&r.abort()}};n.Z=g}}]);
//# sourceMappingURL=415.0f1717e0.chunk.js.map