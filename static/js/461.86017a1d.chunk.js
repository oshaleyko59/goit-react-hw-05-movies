"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[461],{6700:function(n,e,t){t.d(e,{Q:function(){return r}});var r={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},5743:function(n,e,t){t.d(e,{Fg:function(){return l},gq:function(){return p},ks:function(){return h},tu:function(){return d}});var r,a,i,c,o=t(168),s=t(6444),u=t(1087),l=(0,s.ZP)(u.rU)(r||(r=(0,o.Z)(["\n  color: green;\n\n  &:focus,\n  &:hover,\n  &:visited,\n  &:link,\n  &:active {\n    color: green;\n  }\n"]))),p=s.ZP.div(a||(a=(0,o.Z)(["\n  display: flex;\n  gap: 16px;\n"]))),d=s.ZP.div(i||(i=(0,o.Z)(["\n  margin: 8px;\n  display: flex;\n  flex-direction: column;\n  border-bottom: solid gray 1px;\n  flex-grow: 2;\n"]))),h=(0,s.ZP)(u.rU)(c||(c=(0,o.Z)(["\n  margin-bottom: 8px;\n  width: 80px;\n  text-decoration: none;\n  padding: 0 4px;\n  color: orangered;\n  border-radius: 4px;\n  border: solid 1px;\n  &:focus,\n  &:hover,\n  &:visited,\n  &:link,\n  &:active {\n    text-decoration: none;\n  }\n"])))},6793:function(n,e,t){t.d(e,{Z:function(){return u}});var r,a=t(2007),i=t.n(a),c=t(168),o=t(6444).ZP.p(r||(r=(0,c.Z)(["\n  margin-top: 38px;\n  margin-left: auto;\n  margin-right: auto;\n  color: red;\n  font-size: 24px;\n  font-weight: 700;\n"]))),s=t(184);o.propTypes={msg:i().string};var u=function(n){var e=n.msg;return(0,s.jsx)(o,{children:e||"Something unexpected happed..."})}},8461:function(n,e,t){t.r(e),t.d(e,{default:function(){return f}});var r=t(9439),a=t(7689),i=t(2791),c=t(5743),o=t(184),s=function(n){var e=n.movie,t=e.overview,r=e.title,a=e.genres,i=e.vote_average,s=e.poster_path,u="https://image.tmdb.org/t/p/w342".concat(s);return(0,o.jsxs)(c.gq,{children:[(0,o.jsx)("div",{children:s?(0,o.jsx)("img",{src:u,alt:"film poster"}):(0,o.jsx)("div",{children:"No poster"})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{children:r}),(0,o.jsxs)("p",{children:["User score: ",Math.round(10*i),"%"]}),(0,o.jsx)("h3",{children:"Overview"}),(0,o.jsx)("p",{children:t}),(0,o.jsx)("h3",{children:"Genres"}),(0,o.jsx)("p",{children:a.map((function(n){return n.name})).join(" ")})]})]})},u=t(6793),l=t(587),p=function(){return(0,o.jsxs)(c.tu,{children:[(0,o.jsx)("h4",{children:"Additional information"}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:(0,o.jsx)(c.Fg,{to:"cast",children:"Cast"})}),(0,o.jsx)("li",{children:(0,o.jsx)(c.Fg,{to:"reviews",children:"Reviews"})})]})]})},d=t(171),h=t(6700),f=function(){var n,e,t=(0,i.useState)(null),f=(0,r.Z)(t,2),v=f[0],g=f[1],x=(0,i.useState)(null),m=(0,r.Z)(x,2),w=m[0],j=m[1],Z=(0,i.useState)(h.Q.IDLE),b=(0,r.Z)(Z,2),E=b[0],k=b[1],y=(0,a.UO)().id,_=(0,a.TH)(),S=(0,i.useRef)(null!==(n=null===(e=_.state)||void 0===e?void 0:e.from)&&void 0!==n?n:"/");return(0,i.useEffect)((function(){return k(h.Q.PENDING),d.Z.fetchMovieDetails(y).then((function(n){g(n),k(h.Q.RESOLVED)})).catch((function(n){j(n),k(h.Q.REJECTED),g(null)})),function(){d.Z.abortFetch()}}),[y]),(0,o.jsxs)("div",{children:[E===h.Q.REJECTED&&(0,o.jsx)(u.Z,{msg:w.message}),E===h.Q.PENDING&&(0,o.jsx)(l.Z,{}),E===h.Q.RESOLVED&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(c.tu,{children:[(0,o.jsxs)(c.ks,{to:S.current,children:["\u2190"," Go back"]}),(0,o.jsx)(s,{movie:v})]}),(0,o.jsx)(p,{})]}),(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)(l.Z,{}),children:(0,o.jsx)(a.j3,{})})]})}},171:function(n,e,t){var r,a=t(5861),i=t(7757),c=t.n(i),o=t(1243),s="https://api.themoviedb.org/3/",u="b3cb1db782e55dafd1da39b95bd6f5f2";function l(){return(l=(0,a.Z)(c().mark((function n(){var e,t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=new AbortController,e="".concat(s,"trending/movie/week?api_key=").concat(u,"&page=1&language=en-US"),n.next=5,o.Z.get(e,{signal:r.signal});case 5:return t=n.sent,n.abrupt("return",t.data);case 9:throw n.prev=9,n.t0=n.catch(0),new Error(n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))).apply(this,arguments)}function p(){return p=(0,a.Z)(c().mark((function n(e){var t,a,i,l=arguments;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=l.length>1&&void 0!==l[1]?l[1]:1,n.prev=1,r=new AbortController,a="".concat(s,"/search/movie?api_key=").concat(u,"&language=en-US&page=").concat(t,"&query=").concat(e),n.next=6,o.Z.get(a,{signal:r.signal});case 6:return i=n.sent,n.abrupt("return",i.data);case 10:throw n.prev=10,n.t0=n.catch(1),new Error(n.t0.message);case 13:case"end":return n.stop()}}),n,null,[[1,10]])}))),p.apply(this,arguments)}function d(){return(d=(0,a.Z)(c().mark((function n(e){var t,a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=new AbortController,t="".concat(s,"movie/").concat(e,"?api_key=").concat(u,"&language=en-US"),n.next=5,o.Z.get(t,{signal:r.signal});case 5:return a=n.sent,n.abrupt("return",a.data);case 9:throw n.prev=9,n.t0=n.catch(0),new Error(n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))).apply(this,arguments)}function h(){return(h=(0,a.Z)(c().mark((function n(e){var t,a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=new AbortController,t="".concat(s,"movie/").concat(e,"/credits?api_key=").concat(u,"&language=en-US"),n.next=5,o.Z.get(t,{signal:r.signal});case 5:return a=n.sent,n.abrupt("return",a.data);case 9:throw n.prev=9,n.t0=n.catch(0),new Error(n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))).apply(this,arguments)}function f(){return(f=(0,a.Z)(c().mark((function n(e){var t,a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=new AbortController,t="".concat(s,"movie/").concat(e,"/reviews?api_key=").concat(u,"&language=en-US"),n.next=5,o.Z.get(t,{signal:r.signal});case 5:return a=n.sent,n.abrupt("return",a.data);case 9:throw n.prev=9,n.t0=n.catch(0),new Error(n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))).apply(this,arguments)}var v={fetchTrendingMovies:function(){return l.apply(this,arguments)},fetchMovieCast:function(n){return h.apply(this,arguments)},fetchMovieDetails:function(n){return d.apply(this,arguments)},fetchMovieReviews:function(n){return f.apply(this,arguments)},fetchSearchMovies:function(n){return p.apply(this,arguments)},abortFetch:function(){r&&r.abort()}};e.Z=v}}]);
//# sourceMappingURL=461.86017a1d.chunk.js.map