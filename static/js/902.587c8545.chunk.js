"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[902],{6700:function(n,e,t){t.d(e,{Q:function(){return r}});var r={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},5743:function(n,e,t){t.d(e,{Fg:function(){return l},gq:function(){return p},ks:function(){return d},tu:function(){return f}});var r,a,o,c,i=t(168),u=t(6444),s=t(1087),l=(0,u.ZP)(s.rU)(r||(r=(0,i.Z)(["\n  color: green;\n\n  &:focus,\n  &:hover,\n  &:visited,\n  &:link,\n  &:active {\n    color: green;\n  }\n"]))),p=u.ZP.div(a||(a=(0,i.Z)(["\n  display: flex;\n  gap: 16px;\n"]))),f=u.ZP.div(o||(o=(0,i.Z)(["\n  margin: 8px;\n  display: flex;\n  flex-direction: column;\n  border-bottom: solid gray 1px;\n  flex-grow: 2;\n"]))),d=(0,u.ZP)(s.rU)(c||(c=(0,i.Z)(["\n  margin-bottom: 8px;\n  width: 80px;\n  text-decoration: none;\n  padding: 0 4px;\n  color: orangered;\n  border-radius: 4px;\n  border: solid 1px;\n  &:focus,\n  &:hover,\n  &:visited,\n  &:link,\n  &:active {\n    text-decoration: none;\n  }\n"])))},6793:function(n,e,t){t.d(e,{Z:function(){return s}});var r,a=t(2007),o=t.n(a),c=t(168),i=t(6444).ZP.p(r||(r=(0,c.Z)(["\n  margin-top: 38px;\n  margin-left: auto;\n  margin-right: auto;\n  color: red;\n  font-size: 24px;\n  font-weight: 700;\n"]))),u=t(184);i.propTypes={msg:o().string};var s=function(n){var e=n.msg;return(0,u.jsx)(i,{children:e||"Something unexpected happed..."})}},2676:function(n,e,t){var r=t(7689),a=t(5743),o=t(184);e.Z=function(n){var e=n.movies,t=n.home,c=void 0!==t&&t,i=(0,r.TH)();return(0,o.jsx)("ul",{children:e.map((function(n){var e=n.title,t=n.id;return(0,o.jsx)("li",{children:(0,o.jsxs)(a.Fg,{to:c?"movies/".concat(t):"".concat(t),state:{from:i},children:[e,(0,o.jsx)("br",{})]})},t)}))})}},2902:function(n,e,t){t.r(e),t.d(e,{default:function(){return x}});var r,a=t(9439),o=t(2791),c=t(1087),i=t(171),u=t(2676),s=t(6793),l=t(587),p=t(6700),f=t(763),d=t(168),v=t(6444).ZP.input(r||(r=(0,d.Z)(["\n  margin: 8px 16px;\n  width: 320px;\n  border-style: solid;\n  border-color: orangered;\n  border-radius: 4px;\n"]))),g=t(184),h=function(n){var e=n.value,t=void 0===e?"":e,r=n.debouncedFunc,c=(0,o.useMemo)((function(){return(0,f.debounce)(r,500)}),[r]),i=(0,o.useState)([t]),u=(0,a.Z)(i,2),s=u[0],l=u[1];return(0,g.jsx)(v,{type:"text",value:s,onChange:function(n){var e=n.target.value;l(e),c(e)}})},x=function(){var n,e=(0,c.lr)(),t=(0,a.Z)(e,2),r=t[0],f=t[1],d=null!==(n=r.get("query"))&&void 0!==n?n:"",v=(0,o.useState)(p.Q.IDLE),x=(0,a.Z)(v,2),m=x[0],w=x[1],Z=(0,o.useState)([]),b=(0,a.Z)(Z,2),E=b[0],y=b[1],k=(0,o.useState)(null),S=(0,a.Z)(k,2),j=S[0],C=S[1],D=(0,o.useCallback)((function(){""!==d&&(w(p.Q.PENDING),i.Z.fetchSearchMovies(d).then((function(n){var e=n.results;y(e),w(p.Q.RESOLVED)})).catch((function(n){C(n),w(p.Q.REJECTED),y([])})))}),[d]);return(0,o.useEffect)((function(){return D(),function(){i.Z.abortFetch()}}),[D]),(0,g.jsxs)("div",{children:[(0,g.jsx)(h,{value:d,debouncedFunc:function(n){if(i.Z.abortFetch(),w(p.Q.IDLE),""===n)return f({});f({query:n})}}),m===p.Q.REJECTED&&(0,g.jsx)(s.Z,{msg:j.message}),m===p.Q.RESOLVED&&(E.length?(0,g.jsx)(u.Z,{movies:E}):(0,g.jsx)("p",{children:"Nothing found for your search..."})),m===p.Q.PENDING&&(0,g.jsx)(l.Z,{})]})}},171:function(n,e,t){var r,a=t(5861),o=t(7757),c=t.n(o),i=t(1243),u="https://api.themoviedb.org/3/",s="b3cb1db782e55dafd1da39b95bd6f5f2";function l(){return(l=(0,a.Z)(c().mark((function n(){var e,t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=new AbortController,e="".concat(u,"trending/movie/week?api_key=").concat(s,"&page=1&language=en-US"),n.next=5,i.Z.get(e,{signal:r.signal});case 5:return t=n.sent,n.abrupt("return",t.data);case 9:throw n.prev=9,n.t0=n.catch(0),new Error(n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))).apply(this,arguments)}function p(){return p=(0,a.Z)(c().mark((function n(e){var t,a,o,l=arguments;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=l.length>1&&void 0!==l[1]?l[1]:1,n.prev=1,r=new AbortController,a="".concat(u,"/search/movie?api_key=").concat(s,"&language=en-US&page=").concat(t,"&query=").concat(e),n.next=6,i.Z.get(a,{signal:r.signal});case 6:return o=n.sent,n.abrupt("return",o.data);case 10:throw n.prev=10,n.t0=n.catch(1),new Error(n.t0.message);case 13:case"end":return n.stop()}}),n,null,[[1,10]])}))),p.apply(this,arguments)}function f(){return(f=(0,a.Z)(c().mark((function n(e){var t,a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=new AbortController,t="".concat(u,"movie/").concat(e,"?api_key=").concat(s,"&language=en-US"),n.next=5,i.Z.get(t,{signal:r.signal});case 5:return a=n.sent,n.abrupt("return",a.data);case 9:throw n.prev=9,n.t0=n.catch(0),new Error(n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))).apply(this,arguments)}function d(){return(d=(0,a.Z)(c().mark((function n(e){var t,a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=new AbortController,t="".concat(u,"movie/").concat(e,"/credits?api_key=").concat(s,"&language=en-US"),n.next=5,i.Z.get(t,{signal:r.signal});case 5:return a=n.sent,n.abrupt("return",a.data);case 9:throw n.prev=9,n.t0=n.catch(0),new Error(n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))).apply(this,arguments)}function v(){return(v=(0,a.Z)(c().mark((function n(e){var t,a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=new AbortController,t="".concat(u,"movie/").concat(e,"/reviews?api_key=").concat(s,"&language=en-US"),n.next=5,i.Z.get(t,{signal:r.signal});case 5:return a=n.sent,n.abrupt("return",a.data);case 9:throw n.prev=9,n.t0=n.catch(0),new Error(n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))).apply(this,arguments)}var g={fetchTrendingMovies:function(){return l.apply(this,arguments)},fetchMovieCast:function(n){return d.apply(this,arguments)},fetchMovieDetails:function(n){return f.apply(this,arguments)},fetchMovieReviews:function(n){return v.apply(this,arguments)},fetchSearchMovies:function(n){return p.apply(this,arguments)},abortFetch:function(){r&&r.abort()}};e.Z=g}}]);
//# sourceMappingURL=902.587c8545.chunk.js.map